# Mobile Release‑Blocker Checklist (TestFlight Regression)

> 목적: 릴리즈마다 반드시 반복해야 하는 “깨지면 바로 배포 중단” 수준의 핵심 시나리오를 고정한다.  
> 범위: iOS(TestFlight/App Store). Android 출시 전에는 동일 구조로 확장한다.

## 원칙
- “재현 불가 이슈”를 줄이기 위해, **증거(스크린샷/로그/이벤트)**를 남긴다.
- 결제/복원은 특히 재현이 어렵다. 실패해도 **무반응이 아닌 상태/원인**이 보이도록 확인한다.

## 테스트 전 준비
- 테스트 빌드 정보 기록
  - 앱 버전: (예: 1.0.1)
  - iOS `buildNumber`(CFBundleVersion): (예: 121)
  - 기기/OS: (예: iPhone 15 Pro / iOS 18.x, iPad Air / iPadOS 18.x)
- 네트워크 상태 2종 이상 테스트
  - 정상 Wi‑Fi
  - 셀룰러/저속/오프라인(비행기 모드) 중 1개
- 테스트 계정 2종 준비(권장)
  - 신규 계정(처음 가입)
  - 기존 계정(데이터/구독 상태가 있는 계정)

## 릴리즈 블로커 시나리오 (Must‑Pass)

### 1) 인증(Auth): 회원가입/로그인/로그아웃
- [ ] 회원가입 성공 후 홈 진입(오해 유발 문구 없음)
- [ ] 로그아웃 → 재로그인 정상 동작
- [ ] 로그인 실패 시 오류 메시지가 사용자에게 명확히 노출

**증거**
- 로그인/회원가입 실패 시 화면 캡처(토스트/배너 포함)

### 2) 온보딩/첫 성공 경험(리텐션 초반)
- [ ] 튜토리얼 완료(필요 시) 후 홈으로 정상 진입
- [ ] 만다라트 1개 생성(최소 1개 방법)
  - (권장) 수동 입력 1회 + OCR/텍스트 중 1회

### 3) “오늘의 실천” 체크/취소
- [ ] 액션 체크/해제 정상 동작(로딩/토스트/상태 갱신)
- [ ] 체크 후 홈/통계/스트릭이 합리적으로 갱신(즉시 또는 짧은 지연 후)

### 4) 닉네임 변경(즉시 반영)
- [ ] 설정 화면에서 닉네임 변경 → 즉시 반영(설정/홈 프로필 카드)
- [ ] 홈 프로필 카드에서 닉네임 변경 → 즉시 반영

### 5) 구독(Paywall): 플랜 노출/구매/복원
- [ ] Premium 화면 진입 시 플랜이 노출됨(월간/연간)
  - 플랜 미노출이면 “재시도/안내/대체 조회”로 사용자가 다음 행동 가능해야 함
- [ ] 월간/연간 탭 시 결제 시트가 뜨거나, 실패 시 **원인 + 코드**가 노출됨
- [ ] 구매 복원(Restore) 탭 시 성공/실패가 명확히 노출됨

**증거**
- 실패 시: 오류 메시지(코드 포함) 캡처
- 가능하면: 콘솔 로그(또는 Sentry/analytics 이벤트) 캡처

### 6) 권한(Permissions): 필수 권한 흐름
- [ ] 알림 권한 요청/거절/설정 이동 안내가 자연스럽고 카피가 일관됨
- [ ] 사진/카메라 권한이 필요한 기능에서 “권한 없음” 안내가 명확함
- [ ] iOS Tracking(ATT) 요청 문구가 영어/한글 정책에 맞게 노출됨

### 7) 네트워크 불안정
- [ ] 오프라인/저속에서 주요 화면이 무한 로딩/무반응에 빠지지 않음
- [ ] 결제/리포트/이미지 업로드 등 네트워크 의존 기능이 실패 시 사용자에게 안내함

### 8) iPad 레이아웃(최소 1회)
- [ ] Home/Today/Reports 핵심 화면이 레이아웃 깨짐 없이 표시
- [ ] Premium 화면에서 플랜 노출 확인(과거 “iPad 미노출” 이슈 재발 방지)

## 제출 전(권장) 체크리스트
- [ ] 위 Must‑Pass 8개 섹션 모두 통과
- [ ] 회귀 이슈가 있으면 PR/이슈로 기록(스크린샷/재현 절차 포함)

## 관련 문서
- TestFlight 제출: `docs/development/TESTFLIGHT_SUBMIT_GUIDE.md`
- 모바일 테스트 가이드: `docs/mobile/TESTING_GUIDE.md`
- 트러블슈팅 인덱스: `docs/troubleshooting/TROUBLESHOOTING.md`

